<!DOCTYPE html>
<html lang="en">
	<head>
			<title>Thinking at Random</title>
		<meta charset="utf-8" />


		<meta name="tags" content="opendata" />
		<meta name="tags" content="LeMans" />
		<meta name="tags" content="imported" />

		<link rel=stylesheet/less type=text/css media=screen href="/theme/css/style.css" />
		<link rel=stylesheet type=text/css media=screen href="/theme/css/pygment.css" />
		<script src="/theme/js/less.min.js"></script>
	</head>

	<body>
		<div id=logo><div id=logo-wrapper>
			<header>
				<h1><a href="/"<span class=overbar><span class=big>t</span>hinking <span class=accent>at</span> <span class=big>r</span>andom</span></a></h1>
			</header>
			<nav>
				<ul>
					<li><a href="/">Writing</a></li>
					<li><a href="https://github.com/Matael">Github</a></li>
					<li><a href="https://matael.org">About</a></li>
				</ul>
			</nav>
		</div></div>
		<div id=page>
<section id=content>
	<header>
		<h1>OpenData au Mans</h1>
		
	</header>
	<article>

	<div id=meta>
		<p class=by-line>Published by 
				<a href="/author/matael.html" class=author>matael</a>
		</p>
		<p>On <time datetime="2015-01-04T11:28:41+01:00">Sun 04 January 2015</span></p>
		<ul class=tags>
				<li><a href="/tag/opendata.html">opendata</a></li>
				<li><a href="/tag/lemans.html">LeMans</a></li>
				<li><a href="/tag/imported.html">imported</a></li>
		</ul>
	</div>
	<div id=article_body>
		<p>L'autre soir (et ce n'est pas une première), j'ai voulu voir ce qu'on pouvait tirer des données ouvertes par l'agglomération
du Mans. Cette envie est revenue après avoir vu que <a class="reference external" href="https://github.com">GitHub</a> proposait désormais de présenter tous les fichiers <a class="reference external" href="http://en.wikipedia.org/wiki/GeoJSON">GeoJSON</a>
sous forme de carte, directement <a class="reference external" href="https://github.com/blog/1528-there-s-a-map-for-that">dans leur interface</a>.</p>
<p>J'ai vu dans cette nouveauté une occasion de faire mes armes sur le GeoJSON (que je ne connais que peu) et de visualiser
par la même occasion ces fameuses données pour proposer d'éventuelles améliorations à la communauté.</p>
<p>Autant vous le dire tout de suite, ce but n'est <strong>pas</strong> atteint, ... et a peu de chance de l'être dans l'état actuel.</p>
<p>Je vais dans la suite formuler une série de propositions pour rendre ces données utiles, mais avant, laissez moi vous
rappeler quelque chose : <em>une donnée qui ne circule pas est une donnée morte</em>. Citons (une fois n'est pas coutume) les
précepte du <a class="reference external" href="http://datalove.me/">DataLove</a> :</p>
<blockquote>
<p>Love data</p>
<p>Data is essential</p>
<p>Data must flow</p>
<p>Data must be used</p>
<p>Data is neither good nor bad</p>
<p>There is no illegal data</p>
<p>Data is free</p>
<p>Data can not be owned</p>
<p>No man, machine or system shall interrupt the flow of data</p>
<p>Locking data is a crime against datanity</p>
<p>Love data</p>
</blockquote>
<p>Nous ne reviendrons pas sur les implications de tels préceptes, mais gardez bien en tête les lignes 1, 2, 3, 4 et 10.</p>
<div class="section" id="proposition-1-2-conventions-de-nommage-d-arborescence">
<h2>Proposition 1 &amp; 2 : Conventions de Nommage &amp; d'Arborescence</h2>
<p>Si on souhaite permettre le traitement de ces données de manière efficace, il faut absolument que les simples noms des
fichiers ne soient pas une entrave au traitement.</p>
<p>Un nom de fichier <strong>ne doit pas comporter d'espace ni d'accents</strong> (il doit passer l'expression régulière <tt class="docutils literal"><span class="pre">/^[\w-\.]+$/</span></tt> ).
C'est une règle. Ça évite les conditions et les pré-traitements à rallonge dans les scripts et ça évite les caractères non-standards.</p>
<p>Vous n'êtes surement pas sans savoir qu'au sein d'un même dossier (disons répertoire), on ne peut avoir deux fichiers
ou répertoires portant le même nom. Deux jeux de données dont les dossiers partagent le même nom (par exemple <em>csv/</em> pour
<em>Les bureaux de vote</em> et <em>Les secteurs de bureaux de vote</em>), c'est à éviter à tout prix.</p>
<p>Si on devait établir des règles de nommage ne chamboulant pas tout, je proposerais quelque chose du genre ::</p>
<pre class="literal-block">
nom_du_jeu_type
├── nom_du_jeu.txt
├── nom_du_jeu.csv
└── etc...
</pre>
<p>Avec :</p>
<ul class="simple">
<li><tt class="docutils literal">type</tt> le type de jeu (SHP, CSV, KMZ, etc...)</li>
<li>le <tt class="docutils literal">csv</tt> peut être n'importe quel fichier de données</li>
<li>le <tt class="docutils literal">txt</tt> contient les métadonnées (nous y reviendrons)</li>
</ul>
<p>Si par contre on peut tout chambouler, alors il faudrait envisager qu'une URL donne accès à un et un seul fichier, non
<em>zippé</em> directement utilisable par un script. Quitte à avoir un JSON ou un YAML rassemblant métadonnées, liste des
URLs et sommes de contrôle associées.</p>
<p>Le plus important étant tout de même que <strong>tous les jeux partagent une arborescence commune et fixe d'une mise à jour
sur l'autre</strong>.</p>
</div>
<div class="section" id="proposition-3-site-dedie-et-communaute">
<h2>Proposition 3 : Site dédié et communauté</h2>
<p>Plutôt que d'intégrer les données au site existant, je propose la création d'un site dédié à ça, avec une liste de
diffusion mail au moins pour que les utilisateurs des données puissent discuter.</p>
<p>Pourquoi ? En tant que codeur, devoir aller sur un site comme ça pour récupérer les données me fait mal :</p>
<ul class="simple">
<li>Les URLs ne me permettent pas de scripter quoique ce soit (qu'est ce que c'est que cet <tt class="docutils literal">uuid</tt> dans les paramètre GET ?) ;</li>
<li>Si je fais une liste de ces UUID, rien ne prouve qu'ils ne changeront pas ;</li>
<li>Les données ne sont pas facilement récupérables (encore des UUID...).</li>
</ul>
<p>Bref, ça me fait peur et ne me donne pas envie de les utiliser. Pas du tout.</p>
<p>De ce côté là, il faut savoir qu'il y a une chose que les développeurs aiment, connaissent et savent utiliser : les API.</p>
<p>API signifie <em>Application Programming Interface</em>, c'est une interface de programmation qui, ici, permettrait un accès
scriptable aux données.</p>
<p>Vous n'arriverez pas à me faire croire que les données mises en ligne sont utilisées par des personnes lambda dans leur
vie de tous les jours. L'OpenData a deux cas d'utilisation majeurs :</p>
<ul class="simple">
<li>soit les données sont brutes et seront principalement utilisées par les développeurs pour la création d'applications
les utilisant (dans ce cas, le fournisseur propose une API) ;</li>
<li>soit les données sont traitées et mises en forme pour être utilisées par le grand public, et à ce moment là, le
fournisseur propose un site de consultation des données tout-en-un.</li>
</ul>
<p>Madame Michu n'installera pas un mapper GIS pour lire les données sur les pistes cyclables avant sa sortie vélo du mardi
après-midi : soit vous lui donnez un moyen de voir les données, soit vous laissez les autres le faire sans leur mettre
des bâtons dans les roues.</p>
<p>La proposition est donc la suivante : mettre en place un site rassemblant :</p>
<ul class="simple">
<li>une présentation du projet OpenData au Mans et ses principaux acteurs</li>
<li>une documentation pour l'API d'accès</li>
<li>un moyen de s'inscrire pour obtenir des clés d'API (et ne pas avoir à revalider la license à chaque fois)</li>
<li>l'API elle même avec des <em>endpoints</em> bien foutus</li>
<li>une mailing-list ou un forum, bref, un espace de discussion et d'interaction entre développeurs et agents de la ville
de sorte à faciliter la création d'une communauté.</li>
</ul>
<p>Ce dernier point est particulièrement important et ne requiert pas énormément de travail.
Evitez à tout prix le simple formulaire de contact.</p>
<p>Pour la partie documentation regardez comment faire sur <a class="reference external" href="https://readthedocs.org/">ReadTheDocs</a> où demandez à ceux qui savent. Une documentation est
<strong>très</strong> importante.</p>
</div>
<div class="section" id="proposition-4-mise-a-jour-des-donnees">
<h2>Proposition 4 : Mise à jour des données</h2>
<p>Certains jeux de données actuellement proposés n'ont pas été mis à jour et plusieurs personnes m'ont rapporté que
certains comprenaient des erreurs.</p>
<p>Cela nous mène à la quatrième proposition : les jeux très statiques doivent être marqués comme tels et clairement
identifiés, de plus, il faut fournir un moyen de vérifier facilement si le jeu a changé depuis la dernier vérification
(une somme SHA-1 pourrait le faire). Si on veut que les jeux soit utilisés, il faut que les développeurs puissent
vérifier les mise à jour des jeux statiques facilement, sans forcément télécharger le jeu.</p>
<p>Un autre moyen est présenté avec la proposition 5.</p>
<p>Les jeux les plus fréquements mis à jour doivent aussi être clairement signalés. Leur mise à jour ne doit pas casser la
compatibilité sauf si c'est <strong>clairement annoncé</strong> et <strong>à l'avance</strong>.</p>
<p>Enfin, donnez la possiblité aux utilisateurs de rapporter les erreurs (voire de les corriger, cf proposition 6) ; et ce
de manière simple.</p>
</div>
<div class="section" id="proposition-5-metadonnees">
<h2>Proposition 5 : Metadonnées</h2>
<p>Si les données sont importantes, leur contexte l'est tout autant.</p>
<p>Dans ce fameux site rassemblant les jeux, proposez une page par jeu rappelant les métadonnées de ce jeu. Actuellement
elles sont dans un fichier texte dans le zip du jeu, or, on ne veut télécharger que la charge utile, pas les méta
données. Si vous souhaitez à tout prix les proposer au téléchargement, faites un fichier JSON ou YAML supplémentaires
recensant les métadonnées et faites en sorte que ce fichier ait toujours la même organisation ; de sorte que l'ensemble
des fichiers de métadonnées forme aussi un jeu de données.</p>
<p>Dans ces métadonnées, un champ pourrait être réservé au <em>timestamp</em> de la dernière mise à jour, permettant ainsi de
retrouver facilement les jeux nouveaux.</p>
<p>L'autre point important serait de répertorier les différents fichiers d'un même jeu ainsi que leur somme de controle.</p>
</div>
<div class="section" id="proposition-6-open-source">
<h2>Proposition 6 : Open-Source</h2>
<p>L'accès libre, c'est beau. Mais ce qu'il y a de mieux encore, c'est de permettre à tous de participer à l'amélioration à
la fois des données et du site de la communauté.</p>
<p>Des outils existent pour ça (je ne citerais que <a class="reference external" href="https://github.com">GitHub</a>) et permettent de proposer un moyen à tous d'améliorer l'outil
fourni.</p>
<p>Enfin, de nombreuses personnes pourraient être intéressées pour bosser sur un projet comme celui-ci, pourquoi ne pas
leur en donner la possibilité ?</p>
<div class="section" id="conclusion">
<h3>Conclusion</h3>
<p>Voilà donc 6 premières propositions, j'encourage tous les lecteurs de ce billet à en proposer d'autres en commentaire,
que j'ajouterai à la suite.</p>
<p>Il s'agit là d'une simple réflexion sur comment rendre vraiment utiles les jeux proposés actuellement, fédérer une
communauté autour de l'OpenData et permettre au plus grand nombre d'utiliser ces données.
Ce billet n'a d'autre prétention que de vouloir faire réfléchir un peu sur cette question qui s'avère de plus en plus
importante.</p>
<p>Aujourd'hui, nous n'avons que parlé de propositions sur l'organisation de l'accès aux données. Avant de se lancer dans
quoique ce soit, je pense qu'il serait très important de réunir les acteurs de l'OpenData ainsi que ses utilisateurs
(développeurs, etc...). Il faudra bien sûr discuter aussi de l'infrastructure technique et des details d'accessibilité
des données, mais le chemin n'est peut être pas si long qu'il n'y parait...</p>
<p><strong>PS: Merci aux gens du HAUM et de #haum pour les remarques et la relecture :)</strong></p>
</div>
</div>

	</article>
</section>
		</div>
		<div class=clear>&nbsp;</div>
		<footer>
			<p id=legal>Proudly powered by Pelican &mdash; 2017 &mdash; Mathieu (matael) Gaborit</p>
		</footer>
	</body>
</html>