<!DOCTYPE html>
<html lang="en">
	<head>
			<title>Thinking at Random</title>
		<meta charset="utf-8" />


		<meta name="tags" content="octave" />
		<meta name="tags" content="breve" />
		<meta name="tags" content="imported" />

		<link rel=stylesheet/less type=text/css media=screen href="/theme/css/style.css" />
		<link rel=stylesheet type=text/css media=screen href="/theme/css/pygment.css" />
		<script src="/theme/js/less.min.js"></script>
	</head>

	<body>
		<div id=logo><div id=logo-wrapper>
			<header>
				<h1><a href="/"<span class=overbar><span class=big>t</span>hinking <span class=accent>at</span> <span class=big>r</span>andom</span></a></h1>
			</header>
			<nav>
				<ul>
					<li><a href="/">Writing</a></li>
					<li><a href="https://github.com/Matael">Github</a></li>
					<li><a href="https://matael.org">About</a></li>
				</ul>
			</nav>
		</div></div>
		<div id=page>
<section id=content>
	<header>
		<h1>Polyfit</h1>
		
	</header>
	<article>

	<div id=meta>
		<p class=by-line>Published by 
				<a href="/author/matael.html" class=author>matael</a>
		</p>
		<p>On <time datetime="2015-01-04T11:28:38+01:00">Sun 04 January 2015</span></p>
		<ul class=tags>
				<li><a href="/tag/octave.html">octave</a></li>
				<li><a href="/tag/breve.html">breve</a></li>
				<li><a href="/tag/imported.html">imported</a></li>
		</ul>
	</div>
	<div id=article_body>
		<p>Un billet court pour parler de régression linéaire.</p>
<p>Il y a peu, je suis tombé sur une série de mesure comme ça</p>
<pre class="literal-block">
10  4.61
15  2
20  1.3
30  0.94
40  0.78
50  0.7
60  0.67
70  0.64
80  0.63
90  0.62
100 0.61
</pre>
<p>Ce qui dans Octave m'a donné un joli tableau :</p>
<div class="highlight"><pre><span></span><span class="n">mes_data</span> <span class="p">=</span> <span class="p">[</span><span class="mi">10</span> <span class="mf">4.61</span>  <span class="p">;</span> <span class="mi">15</span> <span class="mi">2</span> <span class="p">;</span> <span class="mi">20</span> <span class="mf">1.3</span>   <span class="p">;</span> <span class="mi">30</span> <span class="mf">0.94</span>  <span class="p">;</span> <span class="mi">40</span> <span class="mf">0.78</span>  <span class="p">;</span> <span class="mi">50</span> <span class="mf">0.7</span> <span class="p">;</span> <span class="mi">60</span> <span class="mf">0.67</span> <span class="p">;</span> <span class="mi">70</span> <span class="mf">0.64</span>  <span class="p">;</span> <span class="mi">80</span> <span class="mf">0.63</span>  <span class="p">;</span> <span class="mi">90</span> <span class="mf">0.62</span>  <span class="p">;</span> <span class="mi">100</span> <span class="mf">0.61</span><span class="p">];</span>
</pre></div>
<p>De là, j'en tire les coordonnées de mes points de mesure et je les affiche sans problème :</p>
<div class="highlight"><pre><span></span><span class="n">x</span> <span class="p">=</span> <span class="n">mes_data</span><span class="p">(:,</span><span class="mi">1</span><span class="p">);</span>
<span class="n">y</span> <span class="p">=</span> <span class="n">mes_data</span><span class="p">(:,</span><span class="mi">2</span><span class="p">);</span>
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="s">&#39;b+&#39;</span><span class="p">);</span>
<span class="n">grid</span> <span class="n">on</span><span class="p">;</span>
</pre></div>
<p>Ce qui me donne le graphe ci-contre (<a class="reference external" href="/static/images/polyfit/avant.png">avant</a>).</p>
<img alt="" class="align-right" src="/static/images/polyfit/avant.png" style="width: 300px;" />
<p><strong>Note :</strong> le troisème argument de <tt class="docutils literal">plot()</tt> (<tt class="docutils literal">'b+'</tt>) permet de spécifier la couleur (bleu) et forcer l'utilisation de croix pour les points, sans les relier.
On procède ainsi car il s'agit d'une série de mesure.</p>
<p>Vient ensuite la partie intéressante : mon système travaille surtout dans la partie basse de cette courbe et il serait intéressant de la modéliser.</p>
<p>Les points sont presque en ligne, on peut donc envisager une régression linéaire, et c'est là que <tt class="docutils literal">polyfit()</tt> fait son entrée :</p>
<div class="highlight"><pre><span></span><span class="n">coefs</span> <span class="p">=</span> <span class="n">polyfit</span><span class="p">(</span><span class="n">x</span><span class="p">(</span><span class="mi">4</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">y</span><span class="p">(</span><span class="mi">4</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="mi">1</span><span class="p">);</span>

<span class="n">hold</span> <span class="n">on</span><span class="p">;</span> <span class="c">% pour ne pas remplacer la courbe existante</span>
<span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">(</span><span class="mi">4</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="n">coefs</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="n">coefs</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="n">x</span><span class="p">(</span><span class="mi">4</span><span class="p">:</span><span class="mi">11</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="s">&#39;r&#39;</span><span class="p">);</span>
</pre></div>
<img alt="" class="align-right" src="/static/images/polyfit/apres.png" style="width: 300px;" />
<p>Et on obtient le graphe ci-contre (<a class="reference external" href="/static/images/polyfit/apres.png">apres</a>);</p>
<div class="section" id="que-fait-polyfit">
<h2>Que fait <tt class="docutils literal">polyfit</tt> ?</h2>
<p><tt class="docutils literal">polyfit</tt> cherche à déterminer un polynome qui &quot;colle&quot; au mieux à la série donnée.</p>
<p>L'utilisation la plus basique est  :</p>
<div class="highlight"><pre><span></span><span class="n">tableau_de_coefs</span> <span class="p">=</span> <span class="n">polyfit</span><span class="p">(</span><span class="n">abscisses</span><span class="p">,</span> <span class="n">ordonnnes</span><span class="p">,</span> <span class="n">degres_du_polynome</span><span class="p">);</span>
</pre></div>
<p>C'est un excellent moyen de faire rapidement une régression linéaire sur une série de mesures !</p>
</div>

	</article>
</section>
		</div>
		<div class=clear>&nbsp;</div>
		<footer>
			<p id=legal>Proudly powered by Pelican &mdash; 2017 &mdash; Mathieu (matael) Gaborit</p>
		</footer>
	</body>
</html>